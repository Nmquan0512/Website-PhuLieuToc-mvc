@{
    Layout = null;
    ViewData["Title"] = "Đăng ký";
}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Đăng ký - Phụ Liệu Tóc</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <style>
        :root {
            --primary: #7a9470;
            --primary-600: #6b835f;
            --primary-500: #99b18f;
            --bg-start: #f8fafc;
            --bg-end: #eef2ff;
            --text-muted: #64748b;
            --card-radius: 16px;
        }
        body { background: linear-gradient(135deg, var(--bg-start), var(--bg-end)); min-height: 100vh; display: flex; align-items: center; }
        .auth-card { max-width: 520px; margin: auto; background: #fff; border-radius: var(--card-radius); box-shadow: 0 12px 36px rgba(122,148,112,.18); overflow: hidden; }
        .auth-header { padding: 22px 24px; background: var(--primary); color: #fff; }
        .auth-header h4 { margin: 0; font-weight: 600; }
        .auth-body { padding: 26px; }
        .brand { display:flex; align-items:center; gap:12px; font-weight:600; letter-spacing:.2px; }
        .brand img { height: 34px; width: 34px; object-fit: cover; border-radius: 8px; border: 2px solid rgba(255,255,255,.25); }
        .form-label { font-weight: 500; }
        .form-control { padding: .7rem .9rem; border-radius: 12px; border: 1px solid #e5e7eb; }
        .form-control:focus { border-color: var(--primary-500); box-shadow: 0 0 0 .2rem rgba(139,92,246,.15); }
        .btn-primary { background: var(--primary-600); border-color: var(--primary-600); border-radius: 12px; padding: .65rem 1rem; font-weight: 600; }
        .btn-primary:hover { background: var(--primary); border-color: var(--primary); }
        .btn-outline-secondary { border-radius: 12px; }
        .muted { color: var(--text-muted); }
        .divider { height:1px; background: linear-gradient(90deg, rgba(0,0,0,.05), rgba(0,0,0,.12), rgba(0,0,0,.05)); margin: 16px 0; }
    </style>
</head>
<body>
    <div class="auth-card">
        <div class="auth-header d-flex justify-content-between align-items-center">
            <div class="brand"><img src="/images/home/logo.jpg" alt="logo" /> Phụ Liệu Tóc</div>
            <i class="fa-solid fa-user-plus"></i>
        </div>
        <div class="auth-body">
            <h4 class="mb-2">Tạo tài khoản</h4>
            <p class="muted mb-3">Nhập thông tin để đăng ký tài khoản mới.</p>
            @if (ViewBag.Error != null)
            {
                <div class="alert alert-danger mb-3">@ViewBag.Error</div>
            }
            <form method="post" asp-controller="Login" asp-action="Register" id="registerForm">
                @Html.AntiForgeryToken()
                <div class="mb-3">
                    <label class="form-label"><i class="fa-regular fa-user me-1"></i> Tên đăng nhập</label>
                    <input name="username" class="form-control" autocomplete="username" required minlength="3" />
                    <small class="text-muted">Tối thiểu 3 ký tự</small>
                </div>
                <div class="mb-3">
                    <label class="form-label"><i class="fa-regular fa-envelope me-1"></i> Email</label>
                    <input name="email" type="email" class="form-control" autocomplete="email" required />
                </div>
                <div class="mb-3">
                    <label class="form-label"><i class="fa-solid fa-phone me-1"></i> Số điện thoại (tuỳ chọn)</label>
                    <input name="phone" type="tel" class="form-control" autocomplete="tel" pattern="[0-9]{10,11}" />
                    <small class="text-muted">10-11 chữ số</small>
                </div>
                <div class="mb-3">
                    <label class="form-label"><i class="fa-solid fa-key me-1"></i> Mật khẩu</label>
                    <div class="input-group">
                        <input name="password" type="password" class="form-control" id="registerPassword" autocomplete="new-password" required minlength="6" />
                        <span class="input-group-text" onclick="togglePassword('registerPassword', this)">
                            <i class="fa-solid fa-eye"></i>
                        </span>
                    </div>
                    <small class="text-muted">Tối thiểu 6 ký tự</small>
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary"><i class="fa-solid fa-user-check me-1"></i>Đăng ký</button>
                    <div class="divider"></div>
                    <a asp-controller="Login" asp-action="Index" class="btn btn-outline-secondary"><i class="fa-solid fa-right-to-bracket me-1"></i>Đã có tài khoản? Đăng nhập</a>
                    <a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary"><i class="fa-solid fa-house me-1"></i>Về trang chủ</a>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            const username = document.querySelector('input[name="username"]').value;
            const email = document.querySelector('input[name="email"]').value;
            const password = document.querySelector('input[name="password"]').value;
            const phone = document.querySelector('input[name="phone"]').value;
            
            // Validate username
            if (username.length < 3) {
                e.preventDefault();
                alert('Tên đăng nhập phải có ít nhất 3 ký tự');
                return false;
            }
            
            // Validate email
            if (!email.includes('@@') || !email.includes('.')) {
                e.preventDefault();
                alert('Email không đúng định dạng');
                return false;
            }
            
            // Validate password
            if (password.length < 6) {
                e.preventDefault();
                alert('Mật khẩu phải có ít nhất 6 ký tự');
                return false;
            }
            
            // Validate phone if provided
            if (phone && !/^[0-9]{10,11}$/.test(phone)) {
                e.preventDefault();
                alert('Số điện thoại phải có 10-11 chữ số');
                return false;
            }
           
        });
        function togglePassword(id, el) {
            const input = document.getElementById(id);
            const icon = el.querySelector("i");
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove("fa-eye");
                icon.classList.add("fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.remove("fa-eye-slash");
                icon.classList.add("fa-eye");
            }
        }
    </script>
</body>
</html>

